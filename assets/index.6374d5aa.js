var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,o=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&n(e,a,t[a]);if(s)for(var a of s(t))l.call(t,a)&&n(e,a,t[a]);return e},i=(e,s)=>t(e,a(s));import{r as p,o as c,i as d,a as y,c as u,b as m,t as g,n as v,d as x,u as f,e as _,F as b,f as h,g as w,p as k,h as A,j as O,k as j,l as E,m as P,q as S}from"./vendor.40e6a840.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var I=(e,t)=>{for(const[a,s]of t)e[a]=s;return e};const B=["data-element"],N=x('<div class="sg-element__icon" data-v-c48a2826><div class="sg-element__icon-spark" data-v-c48a2826></div><div class="sg-element__icon-spark" data-v-c48a2826></div><div class="sg-element__icon-spark" data-v-c48a2826></div><div class="sg-element__icon-core" data-v-c48a2826></div></div>',1),T={class:"sg-element__title"};var z=I({props:{item:Object,className:String},setup(e){const t=p(null);c((function(){d(t.value).draggable({inertia:!0,autoScroll:!0,listeners:{move:a,end:s}})}));const a=e=>{var t=e.target,a=(parseFloat(t.getAttribute("data-x"))||0)+e.dx,s=(parseFloat(t.getAttribute("data-y"))||0)+e.dy;t.style.transform="translate("+a+"px, "+s+"px)",t.setAttribute("data-x",a),t.setAttribute("data-y",s)};function s(){t.value.style.transform="translate(0px, 0px)",t.value.setAttribute("data-x",0),t.value.setAttribute("data-y",0)}return(a,s)=>(y(),u("div",{class:v(`${e.className} sg-element`),ref:(e,a)=>{a.root=e,t.value=e},"data-element":e.item.id},[N,m("div",T,g(e.item.label),1)],10,B))}},[["__scopeId","data-v-c48a2826"]]);const L={class:"spell-menu"},F={class:"spell-menu__wrapper"},q=(e=>(k("data-v-e27a86d0"),e=e(),A(),e))((()=>m("div",{class:"spell-menu__title"},"Элементы",-1))),M={class:"spell-menu__container"};var R=I({setup(e){const t=f(),a=_((()=>t.state.elements));return(e,t)=>(y(),u("div",L,[m("div",F,[q,m("div",M,[(y(!0),u(b,null,h(w(a),(e=>(y(),O(z,{className:"spell-menu__item",item:e,key:e.name},null,8,["item"])))),128))])])]))}},[["__scopeId","data-v-e27a86d0"]]);const D=e=>(k("data-v-0c2afce5"),e=e(),A(),e),K={class:"sg-base-rectangle"},$={class:"sg-shape"},C={viewBox:"0 0 66 75",xmlns:"http://www.w3.org/2000/svg"},G=D((()=>m("line",{stroke:"#000",id:"bottom",y2:"56.19054",x2:"7.64329",y1:"56.19054",x1:"57.3046",fill:"transparent"},null,-1))),H=D((()=>m("line",{stroke:"#000",id:"left",y2:"7.10303",x2:"31.62739",y1:"52.45008",x1:"6.40888",fill:"transparent"},null,-1))),J=D((()=>m("line",{stroke:"#000",id:"right",y2:"6.96996",x2:"35.15579",y1:"52.79588",x1:"59.51894",fill:"transparent"},null,-1))),Q={key:0,ry:"3",rx:"3",cy:"4.41656",cx:"33.32589",stroke:"transparent",fill:"red"},U={key:1,ry:"3.41656",rx:"3.41656",cy:"55.53351",cx:"4.41656",stroke:"#000",fill:"green"},V={key:2,ry:"3.41656",rx:"3.41656",cy:"56.05913",cx:"60.92116",stroke:"#000",fill:"blue"},W=[D((()=>m("line",{stroke:"#000",id:"left_synergy_1",y2:"5.60928",x2:"29.96236",y1:"16.51821",x1:"7.74418",fill:"transparent"},null,-1))),D((()=>m("line",{stroke:"#000",id:"left_synergy_2",y2:"52.17487",x2:"4.41656",y1:"21.83808",x1:"4.41656",fill:"transparent"},null,-1))),D((()=>m("ellipse",{id:"left_synergy_apex",ry:"3.41656",rx:"3.41656",cy:"18.08279",cx:"4.54796",stroke:"#000",fill:"transparent"},null,-1)))],X=[D((()=>m("line",{stroke:"#000",id:"right_synergy_1",y2:"5.48875",x2:"36.69186",y1:"16.88917",x1:"58.77375",fill:"transparent"},null,-1))),D((()=>m("line",{stroke:"#000",id:"right_synergy_2",y2:"22.36126",x2:"61.97241",y1:"52.76498",x1:"61.97241",fill:"transparent"},null,-1))),D((()=>m("ellipse",{id:"right_synergy_apex",ry:"3.41656",rx:"3.41656",cy:"18.477",cx:"61.70959",stroke:"#000",fill:"transparent"},null,-1)))],Y=[D((()=>m("line",{stroke:"#000",id:"bottom_synergy_1",y2:"58.26159",x2:"58.12161",y1:"69.68313",x1:"36.46006",fill:"transparent"},null,-1))),D((()=>m("line",{stroke:"#000",id:"bottom_synergy_2",y2:"69.52565",x2:"30.35658",y1:"57.76771",x1:"7.25691",fill:"transparent"},null,-1))),D((()=>m("ellipse",{id:"bottom_synergy_apex",ry:"3.41656",rx:"3.41656",cy:"71.03942",cx:"33.5887",stroke:"#000",fill:"transparent"},null,-1)))],Z=x('<div class="sg-source__wrapper" data-v-0c2afce5><div class="sg-source__dropzone" data-v-0c2afce5></div><svg viewBox="0 0 100 100" data-v-0c2afce5><path id="curve-path" d="M 0, 50 a 50,50 0 1,0 100,0 a 50,50 0 1,0 -100,0" fill="transparent" data-v-0c2afce5></path><text data-v-0c2afce5><textPath xlink:href="#curve-path" startOffset="0" data-v-0c2afce5> onetwothreeonetwothreeonetwothreeonetwothreeonetwothreeonetwothreeonetwothreeonetwothreeonetwothreeonetwothreeonetwothreeonetwothreeonetwothreeonetwothreeonetwothreeonetwothreeonetwothreeonetwothree </textPath></text></svg></div>',1);var ee=I({setup(e){const t=f(),a=p(null),s=p(null),r=p(null),l=_((()=>t.state.base));function n(e){t.dispatch("dropElement",{apex:e.target.id,element:e.relatedTarget.dataset.element})}return c((()=>{d(a.value).dropzone({accept:".sg-element",ondrop:n}),d(s.value).dropzone({accept:".sg-element",ondrop:n}),d(r.value).dropzone({accept:".sg-element",ondrop:n}),t.dispatch("setActiveBase",{type:"triangle",apexes:[{id:"top_apex"},{id:"right_apex"},{id:"left_apex"}],synergies:[{id:"left_synergy_apex",parents:["top_apex","left_apex"]},{id:"right_synergy_apex",parents:["top_apex","right_apex"]},{id:"bottom_synergy_apex",parents:["left_apex","right_apex"]}]})})),(e,t)=>{var n,o,i,p,c,d,g,x,f,_,b,h;return y(),u("div",K,[m("div",$,[(y(),u("svg",C,[G,H,J,m("ellipse",{ref:(e,t)=>{t.topApex=e,a.value=e},id:"top_apex",ry:"3.41656",rx:"3.41656",cy:"4.41656",cx:"33.32589",stroke:"#000",fill:"transparent"},null,512),(null==(o=null==(n=w(l).apexes)?void 0:n.top_apex)?void 0:o.element)?(y(),u("ellipse",Q)):j("",!0),m("ellipse",{ref:(e,t)=>{t.leftApex=e,r.value=e},id:"left_apex",ry:"3.41656",rx:"3.41656",cy:"55.53351",cx:"4.41656",stroke:"#000",fill:"transparent"},null,512),(null==(p=null==(i=w(l).apexes)?void 0:i.left_apex)?void 0:p.element)?(y(),u("ellipse",U)):j("",!0),m("ellipse",{ref:(e,t)=>{t.rightApex=e,s.value=e},id:"right_apex",ry:"3.41656",rx:"3.41656",cy:"56.05913",cx:"60.92116",stroke:"#000",fill:"transparent"},null,512),(null==(d=null==(c=w(l).apexes)?void 0:c.right_apex)?void 0:d.element)?(y(),u("ellipse",V)):j("",!0),m("g",{class:v(["synergy left",{appear:null==(x=null==(g=w(l).synergies)?void 0:g.left_synergy_apex)?void 0:x.element}])},W,2),m("g",{class:v(["synergy right",{appear:null==(_=null==(f=w(l).synergies)?void 0:f.right_synergy_apex)?void 0:_.element}])},X,2),m("g",{class:v(["synergy bottom",{appear:null==(h=null==(b=w(l).synergies)?void 0:b.bottom_synergy_apex)?void 0:h.element}])},Y,2)]))]),Z])}}},[["__scopeId","data-v-0c2afce5"]]);const te={class:"spell-canvas"};var ae=I({setup:e=>(e,t)=>(y(),u("div",{class:"spell-canvas__wrapper",ref:(e,t)=>{t.root=e}},[m("div",te,[E(ee)])],512))},[["__scopeId","data-v-218238ae"]]);const se={class:"container-fluid sg-wrapper"},re={class:"row"},le={class:"col-8"},ne={class:"col-4"};var oe=I({setup:e=>(e,t)=>(y(),u("section",se,[m("div",re,[m("div",le,[E(ae)]),m("div",ne,[E(R)])])]))},[["__scopeId","data-v-6ad16ed0"]]);const ie={setup:e=>(e,t)=>(y(),O(oe))};class pe{constructor(e){this.id=e.name,this.label=e.label,this.synergies=e.synergies}}const ce=[{name:"Rectangle",type:"rectangle"},{name:"Rhombus",type:"rhombus"},{name:"Pentagon",type:"pentagon"}];var de=P({state:{elements:[{name:"light",label:"Свет",colors:{primary:"",secondary:""}},{name:"dark",label:"Тьма",colors:{primary:"",secondary:""}},{name:"fire",label:"Огонь",colors:{primary:"",secondary:""}},{name:"water",label:"Вода",colors:{primary:"",secondary:""}},{name:"air",label:"Ветер",colors:{primary:"",secondary:""}},{name:"earth",label:"Земля",colors:{primary:"",secondary:""}},{name:"electricity",label:"Молния",colors:{primary:"",secondary:""}}].map((e=>new pe(e))),bases:ce,base:{type:"",apexes:{},synergies:{}}},mutations:{addElement(e,t){e.elements.push(t)},resetActiveBase(e){e.base={type:"",apexes:{},synergies:{}}},setElementToApex(e,{apex:t,element:a}){e.base.apexes[t].element=a},setElementToSynergy(e,{synergy:t,element:a}){e.base.synergies[t].element=a}},getters:{getSynergy:e=>e=>!1},actions:{setActiveBase({commit:e,state:t},a){e("resetActiveBase"),t.base.type=a.type,t.base.apexes=a.apexes.reduce(((e,t)=>i(o({},e),{[t.id]:i(o({},t),{element:null})})),{}),t.base.synergies=a.synergies.reduce(((e,t)=>i(o({},e),{[t.id]:i(o({},t),{element:null})})),{})},dropElement({commit:e,dispatch:t},{apex:a,element:s}){e("setElementToApex",{apex:a,element:s}),t("digestSynergies")},digestSynergies({commit:e,state:t}){Object.keys(t.base.synergies).forEach((a=>{var s,r;let l=t.base.synergies[a].parents,n=[t.base.apexes[l[0]],t.base.apexes[l[1]]];(null==(s=n[0])?void 0:s.element)&&(null==(r=n[1])?void 0:r.element)&&e("setElementToSynergy",{synergy:a,element:"red"})}))}}});const ye=S(ie);ye.use(de),ye.mount("#app");
